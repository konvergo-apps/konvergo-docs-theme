@use './theme/hsl-functions' as hsl;
@use './atoms/alert' as *;
@use './atoms/button' as *;
@use './atoms/typography' as *;
@use './atoms/code' as *;
@use './atoms/count-pill-badge' as *;
@use './atoms/dropdown' as *;
@use './atoms/link' as *;
@use './atoms/list-group' as *;
@use './molecules/page-editor-mode-manager' as *;
@use './molecules/page-view' as *;
@use './organisms/sidebar' as *;
@use './pages/login' as *;
@use './utils/variables' as *;
@use './settings/global' as *;
@import 'https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap';


// META

/* Regroups native variables that are used across the website */
:root[data-bs-theme="light"] {
  --grw-sidebar-nave-bg: var(--bs-body-color);
  --grw-sidebar-nav-btn-hover-bg: #343433;
  --grw-sidebar-nav-btn-hover-color: #EEEFF2;
  --grw-sidebar-nav-btn-active-color: #EEEFF2;
  --grw-sidebar-nav-btn-active-bg: #474746;
  --grw-highlight-100: var(--primary);
  --bs-body-color: $black-1000;
  --bs-secondary-color: $black-1000;
  --bs-body-bg: var(--bgcolor-global);

  // Links
  --bs-link-color: hsl(var(--bs-link-color-hs), var(--bs-link-color-l));
  --bs-link-color-hs: 228, 13%;
  --bs-link-color-l: 54%;
  --bs-link-color-rgb: var(--bs-link-color);
  --bs-link-hover-color: var(--primary);
}

:root[data-bs-theme="light"] {
  --primary: hsl(var(--primary-hs), var(--primary-l)) !important;
  --primary-hs: 345, 91%;
  --primary-l: 48%;
  --secondary: hsl(var(--secondary-hs), var(--secondary-l)) !important;
  --secondary-hs: 208, 7%;
  --secondary-l: var(--bg-color-global)6%;

  // Background colors
  --bgcolor-global: hsl(var(--bgcolor-global-hs), var(--bgcolor-global-l));
  --bgcolor-global-hs: 210, 67%;
  --bgcolor-global-l: 99%;
  --bgcolor-card: var(--primary);
  --bgcolor-blinked-section: #{hsl.alpha(var(--primary), 90%)};
  --white-1000: hsl(var(--white-1000-hs), var(--white-1000-l));
  --white-1000-hs: 225, 13%;
  --white-1000-l: 94%;
}

// NAVIGATION & SIDEBAR
.grw-navigation-draggable-line {
  background-color: var(--primary) !important;
}

:root[data-bs-theme="light"] .sidebar-contents-container {
  background-color: #F9E4EB !important;
  border-right: 4px solid var(--primary);

  &.open {
    border: solid 2px var(--primary);
    border-radius: 20px 20px;
  }
}

// COMPONENTS
:root[data-bs-theme="light"] .btn {
  &-copy {
    border: none;
  }

  // &-page-item-control {
  //   --bs-btn-color: #FFFFFF80;
  //   --bs-btn-bg: transparent;
  //   --bs-btn-hover-color: #FFFFFFBF;
  //   --bs-btn-hover-bg: transparent;
  //   --bs-btn-active-color: #EEEFF2;
  //   --bs-btn-active-bg: transparent;
  //   --bs-btn-border-width: 0px;
  // }
}

.growi {
  #page-editor {
    .cm-activeLine {
      background-color: rgba(245, 190, 92, 23%);

      &Gutter {
        background-color: rgba(245, 190, 92, 23%);
      }
    }
  }

  .wiki {
    a {
      &:not(.alert-link) {
        color: var(--bs-body-color) !important;
        text-decoration: none;
        border-bottom: solid 1.5px var(--bs-body-color);

        &:hover {
          color: #343433 !important;
          border-bottom: solid 1.5px #343433;
        }

        &:active {
          color: #474746 !important;
          border-bottom: solid 1.5px #474746;
        }

        &:visited {
          color: #D80E41 !important;
          border-bottom: solid 1.5px #D80E41;
        }
      }
    }
  }
}

a {
  &.link-opacity-75-hover {
    color: var(--bs-body-color);
    border-bottom: solid 1.5px var(--bs-body-color);

    &:hover {
      color: #343433;
      border-bottom: solid 1.5px #343433;
    }

    &:active {
      color: #474746;
      border-bottom: solid 1.5px #474746;
    }
  }

  &.toc-link {
    color: var(--bs-body-color);

    &:hover {
      color: #343433;
      border-bottom: solid 1px #343433;
    }

    &:active {
      color: #474746;
      border-bottom: solid 1.5px #474746;
    }
  }
}

.card {
  padding: 1rem .5rem;
}

.comment-form .bg-comment {
  background-color: transparent !important;
  border: none !important;
}

:root[data-bs-theme="light"] .form {
  &-control {
    background-color: #FFF;
  }

  &-check-input {
    --bs-form-check-bg: #FFF;

    &:checked {
      background-color: var(--primary);
      border-color: var(--primary);
    }

    &:focus {
      border-color: hsla(var(--primary-hs), var(--primary-l), .2);
      box-shadow: 0 0 0 .25rem hsla(var(--primary-hs), var(--primary-l), .2);
    }
  }
}

// ADMINISTRATION
:root[data-bs-theme="light"] .admin-page .list-group-item {
  --bs-list-group-active-bg: var(--white-1000);

  &-action {
    --bs-list-group-action-hover-bg: #E5E5E5;
    --bs-list-group-action-active-bg: #DBDBDB;
  }
}

#grw-site-name a {
  color: #FAFCFE;
}